<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
<html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="ui-g paddingL">
    <div class="ui-g rcorners2">

        <div class="ui-g-12">
            <div class="ui-g-12 formheader">
                <h3> New Evaluation </h3>
            </div>
        </div>

        <form [formGroup]="addForm" (ngSubmit)="confirm($event)" class="nFont" >

            <div class="ui-g formnames">
                <h2> Organisation </h2>

                <div style=" overflow: visible;" class="fieldset-list ui-g-12">
                    <!--Left column-->
                    <div class="ui-g-12 ui-md-12 ui-lg-6">
                        <div class="ui-g-12">
                            <span class="ui-float-label">
                                <h3 class="first formdetails"> Supplier Names </h3>
                                <input class="form-control formtext" type="text" pInputText
                                    [(ngModel)]="newSupplierName" [formControlName]="'supplierName'" />
                            </span>

                            <span *ngIf="!addForm.get('supplierName').valid && addForm.get('supplierName').touched"
                                class="help-block">
                                <span>
                                    <p-message *ngIf="addForm.get('supplierName').errors['required']" severity="error"
                                        text="This field is required!"></p-message>
                                </span>
                            </span>
                        </div>

                        <div class="ui-g-12">
                            <span class="ui-float-label">
                                <h3 class="first formdetails"> Products </h3>
                                <input class="form-control formtext" type="text" pInputText [(ngModel)]="newProduct"
                                    [formControlName]="'product'" />
                            </span>
                            <span *ngIf="!addForm.get('product').valid && addForm.get('product').touched"
                                class="help-block">
                                <p-message *ngIf="addForm.get('product').errors['required']" severity="error"
                                    text="This field is required!"></p-message>
                            </span>
                        </div>

                        <div class="ui-g-12">
                            <span class="ui-float-label">
                                <h3 class="first formdetails"> services </h3>
                                <input class="form-control formtext" type="text" pInputText [(ngModel)]="newServices"
                                    [formControlName]="'services'" />
                            </span>
                            <span *ngIf="!addForm.get('services').valid && addForm.get('services').touched"
                                class="help-block">
                                <p-message *ngIf="addForm.get('services').errors['required']" severity="error"
                                    text="This field is required!"></p-message>
                            </span>
                        </div>
                    </div>
                    <!--Right column-->
                    <div class="ui-g-12 ui-md-12 ui-lg-6">
                        <div class="ui-g-12">
                            <span class="ui-float-label">
                                <h3 class="first formdetails"> Supplier No </h3>
                                <input class="form-control formtext" type="text" pInputText [(ngModel)]="newSupplierNo"
                                    [formControlName]="'supplierNo'" />
                            </span>
                            <span *ngIf="!addForm.get('supplierNo').valid && addForm.get('supplierNo').touched"
                                class="help-block">
                                <p-message *ngIf="addForm.get('supplierNo').errors['required']" severity="error"
                                    text="This field is required!"></p-message>
                            </span>
                        </div>

                        <div class="ui-g-12">
                            <span class="ui-float-label-2">
                                <h3 class="first formdetails"> Evaluated By </h3>
                                <p-dropdown [formControlName]="'evaluator'" [virtualScroll]="true" itemSize="3"
                                    [options]="evaluatedBy" placeholder="Select Evaluator">
                                </p-dropdown>
                            </span>
                            <span *ngIf="!addForm.get('evaluator').valid && addForm.get('evaluator').touched"
                                class="help-block">
                                <p-message *ngIf="addForm.get('evaluator').errors['required']" severity="error"
                                    text="This field is required!"></p-message>
                            </span>
                        </div>

                        <div class="ui-g-12">
                            <span class="ui-float-label">
                                <h3 class="first formdetails"> Evaluation Date </h3>
                                <input class="form-control formtext" type="text" pInputText
                                    [formControlName]="'evaluationDate'" />
                            </span>
                            <span *ngIf="!addForm.get('evaluationDate').valid && addForm.get('evaluationDate').touched"
                                class="help-block">
                                <p-message *ngIf="addForm.get('evaluationDate').errors['required']" severity="error"
                                    text="This field is required!"></p-message>
                            </span>
                        </div>

                    </div>
                </div>

            </div>

            <div class="fieldset-list ui-g-12 formnames">
                <h2> Evaluation Criteria </h2>

                <div class="ui-g-12 ui-md-12 ui-lg-6">

                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Quality </h3>
                            <p-rating [formControlName]="'quality'" (onRate)="handleRateQuality($event)"
                                [(ngModel)]="qualityScore" [cancel]="false"></p-rating>
                            <!-- <input class="form-control formtext" type="text" pInputText [formControlName]="'quality'" /> -->
                        </span>
                    </div>

                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Accident Rate </h3>
                            <p-rating [formControlName]="'accidentRate'" (onRate)="handleRateAccident($event)"
                                [(ngModel)]="accident_rateScore" [cancel]="false"></p-rating>
                        </span>
                        <span *ngIf="!addForm.get('accidentRate').valid && addForm.get('accidentRate').touched"
                            class="help-block">
                            <p-message *ngIf="addForm.get('accidentRate').errors['required']" severity="error"
                                text="This field is required!"></p-message>
                        </span>
                    </div>

                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Safety </h3>
                            <p-rating [formControlName]="'safety'" (onRate)="handleRateSafety($event)"
                                [(ngModel)]="safetyScore" [cancel]="false"></p-rating>
                        </span>
                        <span *ngIf="!addForm.get('safety').valid && addForm.get('safety').touched" class="help-block">
                            <p-message *ngIf="addForm.get('safety').errors['required']" severity="error"
                                text="This field is required!"></p-message>
                        </span>
                    </div>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-6">
                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Cost </h3>
                            <p-rating [formControlName]="'cost'" (onRate)="handleRateCost($event)"
                                [(ngModel)]="costScore" [cancel]="false"></p-rating>
                        </span>
                        <span *ngIf="!addForm.get('cost').valid && addForm.get('cost').touched" class="help-block">
                            <p-message *ngIf="addForm.get('cost').errors['required']" severity="error"
                                text="This field is required!"></p-message>
                        </span>
                    </div>
                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Delivery </h3>
                            <p-rating [formControlName]="'delivery'" (onRate)="handleRateDelivery($event)"
                                [(ngModel)]="deliveryScore" [cancel]="false"></p-rating>
                        </span>
                        <span *ngIf="!addForm.get('delivery').valid && addForm.get('delivery').touched"
                            class="help-block">
                            <p-message *ngIf="addForm.get('delivery').errors['required']" severity="error"
                                text="This field is required!"></p-message>
                        </span>
                    </div>

                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Risk </h3>
                            <p-rating [formControlName]="'risk'" (onRate)="handleRateRisk($event)"
                                [(ngModel)]="riskScore" [cancel]="false"></p-rating>
                        </span>
                        <span *ngIf="!addForm.get('risk').valid && addForm.get('risk').touched" class="help-block">
                            <p-message *ngIf="addForm.get('risk').errors['required']" severity="error"
                                text="This field is required!"></p-message>
                        </span>
                    </div>
                </div>

                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <div class="ui-g-12">
                        <span>
                            <h3 class="first formdetails"> Total : {{totalScore}} / 30</h3>
                        </span>
                    </div>
                </div>
            </div>
            <div class="fieldset-list ui-g-12 formnames">
                <div class="ui-g-12">
                    <h2>Supporting File</h2>
                    <div class="ui-g-12">
                        <p-fileUpload name="demo[]" customUpload="true" (uploadHandler)="onUpload($event)"
                            multiple="multiple" maxFileSize="1000000">
                            <ng-template pTemplate="content">
                                <!-- <ul *ngIf="uploadedFiles.length">
                                    <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes -
                                        {{file.type}}</li>
                                </ul> -->
                            </ng-template>
                        </p-fileUpload>
                    </div>
                </div>

                <div class="ui-g-12 fieldset-list formnames">
                    <h2> Action </h2>

                    <div style=" overflow: visible;" class="fieldset-list ui-g-12">
                        <!--Left column-->
                        <div class="ui-g-12 ui-md-12 ui-lg-6">
                            <div class="ui-g-12">
                                <span class="ui-float-label">
                                    <h3 class="first formdetails"> Approved Date </h3>
                                    <input class="form-control formtext" type="text" pInputText
                                        [formControlName]="'approvedDate'" />
                                </span>
                                <!-- 
                                <span *ngIf="!addForm.get('subject').valid && addForm.get('subject').touched"
                                    class="help-block">
                                    <span>
                                        <p-message *ngIf="addForm.get('subject').errors['required']" severity="error"
                                            text="This field is required!"></p-message>
                                    </span>
                                </span> -->
                            </div>
                            <div class="ui-g-12">
                                <span class="ui-float-label">
                                    <h3 class="first formdetails"> Result of Evaluation <i
                                            class="fa fa-exclamation-circle" tooltipPosition="top"></i></h3>
                                    <input pTooltip="Enter your username" class="form-control formtext" type="text"
                                        pInputText [formControlName]="'resultOfEval'" />
                                </span>
                                <!-- 
                                <span *ngIf="!addForm.get('subject').valid && addForm.get('subject').touched"
                                    class="help-block">
                                    <span>
                                        <p-message *ngIf="addForm.get('subject').errors['required']" severity="error"
                                            text="This field is required!"></p-message>
                                    </span>
                                </span> -->
                            </div>
                        </div>
                        <!--Right column-->
                        <div class="ui-g-12 ui-md-12 ui-lg-6">
                            <div class="ui-g-12">
                                <span class="ui-float-label">
                                    <h3 class="first formdetails"> Aprroved By </h3>
                                    <input class="form-control formtext" type="text" pInputText
                                        [formControlName]="'approvedBy'" />
                                </span>

                            </div>
                        </div>
                    </div>
                </div>
                <button pButton [disabled]="!addForm.valid" type="submit" label="Submit"  ></button>
            </div>
        </form>
    </div>
</div>

</html>